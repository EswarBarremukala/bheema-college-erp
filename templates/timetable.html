{% extends "layout.html" %}
{% block content %}

<h4 class="mb-3">{{ dept }} Department Timetable</h4>

<form method="get">
<select name="day" class="form-select mb-3" onchange="this.form.submit()">
<option value="">Select Day</option>
{% for d in days %}
<option value="{{ d }}" {% if selected_day == d %}selected{% endif %}>
{{ d }}
</option>
{% endfor %}
</select>
</form>

{% if timetable %}

<div class="table-responsive">
<table class="table table-bordered table-striped text-center">

<thead class="table-dark">
<tr>
<th>Day</th>
<th>09:30-10:20</th>
<th>10:20-11:10</th>
<th>11:30-12:20</th>
<th>12:20-01:10</th>
<th>01:50-02:40</th>
<th>02:40-03:25</th>
<th>03:25-04:10</th>
</tr>
</thead>

<tbody>
{% for row in timetable %}
<tr>
<td><strong>{{ row.Day }}</strong></td>
<td>{{ row["09:30-10:20"] }}</td>
<td>{{ row["10:20-11:10"] }}</td>
<td>{{ row["11:30-12:20"] }}</td>
<td>{{ row["12:20-01:10"] }}</td>
<td>{{ row["01:50-02:40"] }}</td>
<td>{{ row["02:40-03:25"] }}</td>
<td>{{ row["03:25-04:10"] }}</td>
</tr>
{% endfor %}
</tbody>

</table>
</div>

{% else %}

<div class="alert alert-warning">
No timetable available for selected day.
</div>

{% endif %}

{% endblock %}
