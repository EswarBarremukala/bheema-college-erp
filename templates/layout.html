<!DOCTYPE html>
<html>
<head>
<title>Bheema Engineering College ERP</title>

<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

<style>
.sidebar {
    min-height: 100vh;
    background: #0d6efd;
}

.sidebar a {
    color: white;
    text-decoration: none;
    padding: 10px;
    display: block;
    border-radius: 6px;
}

.sidebar a:hover {
    background: rgba(255,255,255,0.2);
}

.logo-img {
    width: 45px;
    height: 45px;
    object-fit: cover;
}
</style>

</head>

<body>

<!-- ================= NAVBAR ================= -->

<nav class="navbar navbar-dark bg-dark px-3">
    
    <a class="navbar-brand d-flex align-items-center" href="/dashboard">
        <img src="{{ url_for('static', filename='images/bheema_logo.png') }}"
             class="logo-img rounded-circle me-2">
        <span>Bheema Institute of Technology and Science</span>
    </a>

    {% if session.get("role") %}
    <div>
        <span class="text-white me-3">
            {{ session.get("role").capitalize() }}
        </span>
        <a href="/logout" class="btn btn-danger btn-sm">Logout</a>
    </div>
    {% endif %}

</nav>

<!-- ================= MAIN BODY ================= -->

<div class="container-fluid">
<div class="row">

{% if session.get("role") and request.path != '/' %}

<!-- ================= SIDEBAR ================= -->

<div class="col-md-2 sidebar p-3">

<h6 class="text-white">Modules</h6>
<hr class="bg-light">

{% if session.get("role") == "admin" and not session.get("selected_student") %}

<a href="/admin">Select Student</a>
<a href="/add_student">Add Student</a>
<a href="/attendance_summary">Attendance Summary</a>

{% else %}

<a href="/profile">Profile</a>
<a href="/timetable">Timetable</a>
<a href="/attendance">Attendance</a>
<a href="/marks">Marks</a>
<a href="/fees">Fees</a>
<a href="/assignments">Assignments</a>
<a href="/notifications">Notifications</a>
<a href="/exams">Exams</a>
<a href="/library">Library</a>
<a href="/placement">Placement</a>
<a href="/materials">Course Materials</a>

{% if session.get("role") == "admin" %}
<hr class="bg-light">
<a href="/attendance_summary" class="text-warning">Attendance Summary</a>
<a href="/add_student" class="text-success">Add Student</a>
<a href="/admin" class="text-info">Back to Students</a>
{% endif %}

{% endif %}

</div>

{% endif %}

<!-- ================= CONTENT AREA ================= -->

<div class="col-md-10 p-4 bg-light">

{% block content %}{% endblock %}

</div>

</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
